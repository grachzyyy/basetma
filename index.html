<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Telegram WebApp Example</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
</head>
<body>
    <script>
        document.addEventListener("DOMContentLoaded", function() {
            console.log("Web App is loading...");

            // Убедитесь, что Web App API готово к использованию
            Telegram.WebApp.ready();
            console.log("Web App is ready:", Telegram.WebApp);

            // Показать основную кнопку
            Telegram.WebApp.MainButton.setText("Click Me").show();
            console.log("Main Button is shown");

            // Добавить обработчик клика
            Telegram.WebApp.MainButton.onClick(function () {
                console.log("Main Button clicked");

                // Показать индикатор загрузки
                Telegram.WebApp.showProgress();
                console.log("Progress shown");

                // Выполнить какие-то действия (например, запрос к серверу)
                // Для примера, используем setTimeout чтобы симулировать задержку
                setTimeout(function () {
                    // Скрыть индикатор загрузки
                    Telegram.WebApp.hideProgress();
                    console.log("Progress hidden");
                    
                    // Показать сообщение об успешном завершении операции
                    Telegram.WebApp.showAlert('Main Button was clicked');
                }, 2000); // Задержка 2 секунды для демонстрации
            });
        });
    </script>
</body>
</html>
